{% extends "search_template.html" %}

{% load static %}

{% block searchcontent %}

{% if search_results %}
<div class="search-section">
    <h3 class="search-section__title">Collections</h3>
    <div class="search-section__content">
        {% for collection in search_results %}
        <div class="search-item collection-item">
            <div class="collection-item__header">
                <a href="{% url 'base:collection' collection.user.id collection.id %}?from=search&q={{ q }}&tab={{ active_tab }}" class="collection-item__name">
                    {{ collection.name }}
                </a>
                {% if request.user.id == collection.user.id %}
                <button class="collection-item__delete" data-collection-id="{{ collection.id }}">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                    </svg>
                </button>
                {% endif %}
            </div>
            <div class="collection-item__info">
                <span class="collection-item__count">{{ collection.publications.count }} publications</span>
                <span class="collection-item__owner">by {{ collection.user.username }}</span>
            </div>
            <div class="collection-item__meta">
                <span class="meta-item">Created {{ collection.created|timesince }} ago</span>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}


{% endblock searchcontent %}